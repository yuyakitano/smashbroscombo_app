- if current_user == @user
  h1 ãƒã‚¤ãƒšãƒ¼ã‚¸
- else
  h1 ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°ç”»é¢

.nav.justify-content-end
  = link_to 'ãƒ¡ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã¸', combos_path, class: 'nav-link'
table.table.table-hover
  tbody
    tr
      th = Combo.human_attribute_name(:profile_image)
      td = attachment_image_tag @user, :profile_image, fallback: 'no-image.png', size: '150x150', class: 'center-block img-thumbnail img-responsive'
    tr
      th = User.human_attribute_name(:name)
      td = @user.username
    tr
      th = User.human_attribute_name(:introduction)
      td = @user.introduction
    tr
      th = User.human_attribute_name(:created_at)
      td = @user.created_at
    tr
      th = User.human_attribute_name(:updated_at)
      td = @user.updated_at
    tr
      th = User.human_attribute_name(:many_combo)
      td = "#{@user.combos.count}ä»¶"
        
- if current_user == @user
  = link_to 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ç·¨é›†', edit_user_path, data: {"turbolinks" => false}, class: 'btn btn-primary mr-3'  
  = link_to 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤', @user, method: :delete, data: { confirm: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ"}, class: 'btn btn-danger'

= link_to 'ãƒ•ã‚©ãƒ­ãƒ¼',  [@user, :followings] 
= link_to 'ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼',  [@user, :followers]
- if user_signed_in? && current_user != @user
  - if current_user.active_relationships.exists?(target_user_id: @user.id)
    = link_to 'ãƒ•ã‚©ãƒ­ãƒ¼è§£é™¤', [@user, :follow], method: :delete
    - if current_user.active_relationships.exists?(notification: false)
      p ã‚³ãƒ³ãƒœæŠ•ç¨¿æ™‚ã®é€šçŸ¥ã‚ªãƒ•ğŸ”•
      = link_to "ã‚³ãƒ³ãƒœæŠ•ç¨¿æ™‚ã«é€šçŸ¥ã™ã‚‹", user_follow_notification_path(user_id: @user.id), method: :post
      
    - else 
      p ã‚³ãƒ³ãƒœæŠ•ç¨¿æ™‚ã®é€šçŸ¥ã‚ªãƒ³ğŸ””
      = link_to "ã‚³ãƒ³ãƒœæŠ•ç¨¿æ™‚ã®é€šçŸ¥ã‚’ã‚ªãƒ•ã«ã™ã‚‹", user_follow_notification_path(user_id: @user.id), method: :post

  - else
    = link_to 'ğŸ‘¤ãƒ•ã‚©ãƒ­ãƒ¼ã™ã‚‹', [@user, :follow], method: :post

#mypagecombo
- if request.query_string == "combo=followingcombo"
  
  = link_to 'ãƒã‚¤ã‚³ãƒ³ãƒœä¸€è¦§', user_path(current_user.id, anchor: 'mypagecombo' )
  
  h3 ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚³ãƒ³ãƒœä¸€è¦§
  .mb-3 
  
  /ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
  table.table.table-hover
    thead.thead-default 
      tr
        th = Combo.human_attribute_name(:name)
        th = Combo.human_attribute_name(:fighter_id)
        th = Combo.human_attribute_name(:command)
        th = Combo.human_attribute_name(:startpossibledamage_min)
        th = Combo.human_attribute_name(:startpossibledamage_max)
        th = Combo.human_attribute_name(:likes_count)
        th = Combo.human_attribute_name(:created_at)
        th = Combo.human_attribute_name(:make_by) 
        th
    tbody
      - @combo.each do |combo|
        tr
          /td = image_tag @user.profile_image
        
          td = link_to combo.name, combo_path(combo)
          td = combo.fighter.name
          td 
            - combo.commands.each do |command|
              = command.name
          td = "#{combo.startpossibledamage_min}%"
          td = "#{combo.startpossibledamage_max}%"
          td = combo.likes.count
          td = combo.created_at
          td = link_to combo.user.username, user_path(combo.user_id)
          td

- else
  
  - if current_user == @user
  
    = link_to 'ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚³ãƒ³ãƒœä¸€è¦§', user_path(current_user.id, combo: 'followingcombo', anchor: 'mypagecombo' )
  
  
  h3 ãƒã‚¤ã‚³ãƒ³ãƒœä¸€è¦§ 
  .mb-3
  /ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
  table.table.table-hover
    thead.thead-default 
      tr
        th = Combo.human_attribute_name(:name)
        th = Combo.human_attribute_name(:fighter_id)
        th = Combo.human_attribute_name(:command)
        th = Combo.human_attribute_name(:startpossibledamage_min)
        th = Combo.human_attribute_name(:startpossibledamage_max)
        th = Combo.human_attribute_name(:likes_count)
        th = Combo.human_attribute_name(:created_at)
        th = Combo.human_attribute_name(:make_by) 
        th
    tbody
      - @user.combos.each do |combo|
        tr
          /td = image_tag @user.profile_image

          td = link_to combo.name, combo_path(combo)
          td = combo.fighter.name
          td 
            - combo.commands.each do |command|
              = command.name
          td = "#{combo.startpossibledamage_min}%"
          td = "#{combo.startpossibledamage_max}%"
          td = combo.likes.count
          td = combo.created_at
          td = combo.user.username
          td


/- if user_signed_in? && current_user.id == @user.id
  = link_to 'ç·¨é›†', edit_combo_path, class: 'btn btn-primary mr-3'  
  = link_to 'å‰Šé™¤', @user, method: :delete, data: { confirm: "ã‚³ãƒ³ãƒœãƒ‡ãƒ¼ã‚¿ã€Œ#{@user.username}ã€ã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ"}, class: 'btn btn-danger'


p Find me in app/views/users/show.html.slim
